#compdef zq

_arguments -S \
  '-aggmem+[maximum memory used per aggregate function value]:memory size' \
  '-B[allow binary zng be sent to a terminal output]' \
  '-C[display AST in Zed canonical format]' \
  '-color[enable/disable color formatting]' \
  '-csv.delim+[CSV field delimiter]:delimiter' \
  '-e[stop upon input errors]' \
  '-f+[format for output data]:output format:(arrows csv json lake parquet table text tsv vng zeek zjson zng zson)' \
  '-fusemem+[maximum memory used by fuse]:memory size' \
  '(-h -help)'{-h,-help}'[display help]' \
  '-hidden[show hidden options]' \
  '-i+[format of input data]:input format:(auto arrows csv json line parquet tsv vng zeek zjson zng zson)' \
  '*-I+[source file containing Zed query text]:file:_files' \
  '-J[use formatted JSON output independent of -f option]' \
  '-j[use line-oriented JSON output independent of -f option]' \
  '-o+[write data to output file]:output file:_files' \
  '-persist+[regular expression to persist type definitions across the stream]:regex' \
  '-pretty+[tab size to pretty print JSON/ZSON output]:tab size' \
  '-q[do not display warnings]' \
  '-s[display search stats on stderr]' \
  '-sortmem+[maximum memory used by sort]:memory size' \
  '-split[split output into one file per data type in this directory]' \
  '-splitsize+[split into files at least this big rather than by data type]:size' \
  '-unbuffered[disable output buffering]' \
  '-version[print version and exit]' \
  '-Z[use formatted ZSON output independent of -f option]' \
  '-z[use line-oriented ZSON output independent of -f option]' \
  '-zng.compress[compress ZNG frames]' \
  '-zng.framethresh+[minimum ZNG frame size in uncompressed bytes]:size' \
  '-zng.readmax+[maximum ZNG read buffer size]:size' \
  '-zng.readsize+[target ZNG read buffer size]:size' \
  '-zng.threads+[number of ZNG read threads]:number' \
  '-zng.validate[validate format when reading ZNG]' \
  '*:: :_files'
